<div class="container">

    <div class="position-fixed w-25 d-none" id="success"
        style="left:530px;  background-color: black; border-radius:10px; z-index: 1;">
        <p class="text-center mt-3" style="color: white;">Product Added to Cart</p>
    </div>
      <div class="position-fixed w-25 d-none " id="success-wishlist"
            style="left:530px; background-color: black; border-radius:10px">
            <p class="text-center mt-3" style="color: white;">Product Added to wishlist</p>
        </div>
    <!-- single product details -->
    <div class="small-container single-product">
        <div class="row1">
            <div class="col-2" style="width: 60%;">
               
                <div class="col-md-4 w-100 px-0 lens" id="img-container">
                    <img id="image" src="{{products.image.[0]}}" class="block__pic img-fluid"
                        style="box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px; width: 100%; max-height: 405px;" />
                </div>
                <div class="small-img-row pt-3 ">
                    <div class="small-img-col">
                        <img style="width: 100px;height: 100px;" src="{{products.image.[0]}}" alt=""
                            class="small-img" />
                    </div>
                    <div class="small-img-col">
                        <img style="width: 100px;height: 100px;" src="{{products.image.[1]}}" alt=""
                            class="small-img" />
                    </div>
                    <div class="small-img-col">
                        <img style="width: 100px;height: 100px;" src="{{products.image.[2]}}" alt=""
                            class="small-img" />
                    </div>
                    <div class="small-img-col">
                        <img style="width: 100px;height: 100px;" src="{{products.image.[3]}}" alt=""
                            class="small-img" />
                    </div>
                </div>
            </div>
            <div class="col-2 mb-5">
                <div >
                    <div class="text-decor h2">{{products.product_name}}</div>
                </div>
                {{#if products.currentOffer}}
                <div class="text-decor h3"><s class="text-danger">{{products.actualPrice}}</s><span
                        class="text-success">&nbsp;({{products.currentOffer}}% OFF)</span></div>
                <div class="text-success h3">${{products.offerPrice}} </div>

                {{else}}
                <div class="text-decor h3"> {{products.actualPrice}}</div>
                <figcaption class="text-danger">No Offer </figcaption>

                {{!-- <figcaption> â‚¹{{this.totalPrice}}</figcaption> --}}
                {{/if}}

                <div class="rating">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-star-fill" viewBox="0 0 16 16">
                        <path
                            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-star-fill" viewBox="0 0 16 16">
                        <path
                            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-star-fill" viewBox="0 0 16 16">
                        <path
                            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-star-fill" viewBox="0 0 16 16">
                        <path
                            d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-star" viewBox="0 0 16 16">
                        <path
                            d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                    </svg>
                </div>
                <div class="my-3" style="width: 30rem;">
                    <div class=""><b>{{products.brand}}</b></div>
                </div>
                <div class="my-2" style="width: 30rem;">
                    <div class=""><b>CATEGORY:&nbsp;{{products.category}}</b></div>
                </div>
                <div class="my-3" style="width: 30rem;">
                    <div class=""><p class="h6">{{products.description}}</p></div>
                </div>


                {{#if user}}
                {{#if products.stock}}
                <button onclick="addToWishlist('{{products._id}}')" class="btn btn-outline-dark btn-lg me-3"
                    style="border-radius: 0;">Add to Wishlist</button>

                <button onclick="addToCart('{{products._id}}')" class="btn btn-dark btn-lg"
                    style="border-radius: 0;">Add to Cart</button>
                {{else}}
                <button onclick="addToWishlist('{{products._id}}')" class="btn btn-outline-dark btn-lg me-3"
                    style="border-radius: 0;">Add to Wishlist</button>
                <button class="btn btn-danger btn-lg" style="border-radius: 0;">Item Out of stock</button>
                {{/if}}
                {{else}}

                <button type="button" class="btn btn-outline-dark btn-lg me-3" data-bs-toggle="modal"
                    style="border-radius: 0;" data-bs-target="#signInModal" data-bs-whatever="@mdo">Add to
                    Wishlist</button>

                <button type="button" class="btn btn-outline-dark btn-lg me-3" data-bs-toggle="modal"
                    style="border-radius: 0;" data-bs-target="#signInModal" data-bs-whatever="@mdo">Add to
                    cart</button>

                {{/if}}
            </div>
        </div>
    </div>




    <!-- title -->
    <div class="small-container">
        <div class="row row-2">
             <h2><span class="text-danger"> Related</span> Products</h2>
        </div>
    </div>

    <!-- products -->

    <div class="small-container">
        <div class="row">
              {{#each relatedProduct}}
           
            <div class="col-4">
                   <a style="text-decoration: none;" href="/product-view/{{this._id}}">
                <img src="{{this.image.[0]}}" alt="" />
                <h5>{{this.product_name}}</h5>
                <div class="rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                </div>
                <p class="text-success">${{this.offerPrice}}</p>
                </a>
            </div>
            {{/each}}

           
        </div>
    </div>
</div>
<footer style="margin-top: 150px;">
  <p class="copy-right"><img
      src="https://res.cloudinary.com/de8cuyd0n/image/upload/v1520412543/E-commerce%20landing%20page/icons/copy-right-img_1x.png"
      alt="copy right image" /> 2022 all right recived </p>
  <p>privacy policy</p>
  <p>license</p>
</footer>






<!-- js for product gallery -->

<script>
    var ProductImg = document.getElementById('image');
    var SmallImg = document.getElementsByClassName('small-img');
    SmallImg[0].onclick = function () {
        ProductImg.src = SmallImg[0].src;
    };
    SmallImg[1].onclick = function () {
        ProductImg.src = SmallImg[1].src;
    };
    SmallImg[2].onclick = function () {
        ProductImg.src = SmallImg[2].src;
    };
    SmallImg[3].onclick = function () {
        ProductImg.src = SmallImg[3].src;
    };
</script>


<style>
 




  

   

    .row1 {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        justify-content: space-around;
    }

    .col-2 {
        flex-basis: 50%;
        min-width: 300px;
    }

    .col-2 img {
        max-width: 100%;
        padding: 50px 0;
    }

    .col-2 h1 {
        font-size: 50px;
        line-height: 60px;
        margin: 25px 0;
    }


    .btn:hover {
        background: #563434;
    }

    .header {
        background: radial-gradient(#fff, #ffd6d6);
    }

    .header .row {
        margin-top: 70px;
    }

    .small-img {
        max-height: 100px;
        width: 100px;
    }

    .categories {
        margin: 70px 0;
    }

    .col-3 {
        flex-basis: 30%;
        min-width: 250px;
        margin-bottom: 30px;
    }

    .col-3 img {
        width: 100%;
    }

    .small-container {
        max-width: 1080px;
        margin: auto;
        padding-left: 25px;
        padding-right: 25px;
    }

    .col-4 {
        flex-basis: 25%;
        padding: 10px;
        min-width: 200px;
        margin-bottom: 50px;
        transition: transform 0.5s;
    }

    .col-4 img {
        width: 100%;
    }

    .title {
        text-align: center;
        margin: 0 auto 80px;
        position: relative;
        line-height: 60px;
        color: #555;
    }

    .title::after {
        content: "";
        background: #ff523b;
        width: 80px;
        height: 5px;
        border-radius: 5px;
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translate(-50%);
    }

    h4 {
        color: #555;
        font-weight: normal;
    }

    .col-4 p {
        font-size: 14px;
    }

    .rating .fas {
        color: #ff523b;
    }

    .rating .far {
        color: #ff523b;
    }

    .col-4:hover {
        transform: translateY(-5px);
    }


    /* media query for menu */

    /* all products page */

    .row-2 {
        justify-content: space-between;
        margin: 100px auto 50px;
    }

    select {
        border: 1px solid #ff523b;
        padding: 5px;
    }

    select:focus {
        outline: none;
    }

    .page-btn {
        margin: 0 auto 80px;
    }

    .page-btn span {
        display: inline-block;
        border: 1px solid #ff523b;
        margin-left: 10px;
        width: 40px;
        height: 40px;
        text-align: center;
        line-height: 40px;
        cursor: pointer;
    }

    .page-btn span:hover {
        background: #ff523b;
        color: #ffffff;
    }

    /* single product details */

    .single-product {
        margin-top: 80px;
    }

    .single-product .col-2 img {
        padding: 0;
    }

    .single-product .col-2 {
        padding: 20px;
    }

    .single-product h4 {
        margin: 20px 0;
        font-size: 22px;
        font-weight: bold;
    }

    .single-product select {
        display: block;
        padding: 10px;
        margin-top: 20px;
    }

    .single-product input {
        width: 50px;
        height: 40px;
        padding-left: 10px;
        font-size: 20px;
        margin-right: 10px;
        border: 1px solid #ff523b;
    }

    input:focus {
        outline: none;
    }

    .single-product .fas {
        color: #ff523b;
        margin-left: 10px;
    }

    .small-img-row {
        display: flex;
        justify-content: space-between;
    }

    .small-img-col {
        flex-basis: 24%;
        cursor: pointer;
    }

    /* cart items */

    .cart-page {
        margin: 90px auto;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    .cart-info {
        display: flex;
        flex-wrap: wrap;
    }



    .total-price {
        display: flex;
        justify-content: flex-end;
    }

    .total-price table {
        border-top: 3px solid #ff523b;
        width: 100%;
        max-width: 400px;
    }

    td:last-child {
        text-align: right;
    }

    th:last-child {
        text-align: right;
    }

    #Indicator {
        width: 100px;
        border: none;
        background: #ff523b;
        height: 3px;
        margin-top: 8px;
        transform: translateX(100px);
        transition: transform 1s;
    }

    /* media query for less than 600 screen size */

    @media only screen and (max-width: 600px) {
        .row {
            text-align: center;
        }

        .col-2,
        .col-3,
        .col-4 {
            flex-basis: 100%;
        }

        .single-product .row {
            text-align: left;
        }

        .single-product .col-2 {
            padding: 20px 0;
        }

        .single-product h1 {
            font-size: 26px;
            line-height: 32px;
        }

        .cart-info p {
            display: none;
        }
    }

    /* comment card*/

   

    /* .card {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;

        background: #ccc;
        border-radius: 30px;
        padding: 40px;
        box-shadow: 0 0 40px #000;
        transform: translateY(0) rotate(4deg) translateX(25px) scale(1);
        transform-origin: 0 0;

        transition: transform 0.6s cubic-bezier(.8, .2, .1, 0.8) 0.1s,
            background 0.4s linear;

        cursor: pointer;
        user-select: none;

        :last-child {
            margin-bottom: 0;
        }
    } */

    .card--next {
        z-index: 5;
        transform: translateY(-25px) rotate(4deg) translateX(25px) scale(1);
    }

    .card--out {
        animation: card-out 0.6s cubic-bezier(.8, .2, .1, 0.8);
        transform: translateY(-50px) rotate(8deg) translateX(55px) scale(0.95);
        z-index: 1;
        background: #bbb;
    }

    @keyframes card-out {
        0% {
            z-index: 20;
            transform: translateY(0px) rotate(-4deg);
        }

        50% {
            transform: translateY(-120%) rotate(-5deg) translateX(-40px);
        }

        80% {
            z-index: 1;
        }

        100% {
            transform: translateY(-50px) rotate(8deg) translateX(55px) scale(0.95);
        }
    }

    .card--current {
        cursor: auto;
        user-select: auto;
        position: relative;
        z-index: 10;
        opacity: 1;
        background: #EEE;
        transform: rotate(-1deg) translateX(0%) scale(1);
    }



    ////////////////////////////////////////
</style>